{
    "name": "just-for-release",
    "version": "0.0.0",
    "description": "This package is just for releasing the extension",
    "scripts": {
        "test": "echo $GH_TOKEN",
        "build": "cd ./src/semanticRelease && npm install && tsc",
        "pre-package": "rimraf dist && copyfiles -u 1 \"src{/*,}/{vss-extension.json,task.json,package.json,*.png,*.js,/!(tests)/*.js}\" dist -E && cd ./dist/semanticRelease && npm install --only=prod",
        "package": "npm run build && npm run pre-package",
        "publish": "cd ./dist && cross-env 'tfx extension publish --auth-type pat -t $MARKETPLACE_TOKEN --service-url \"https://marketplace.visualstudio.com/\" --share-with $SHARED_ORGS --manifest-globs vss-extension.json'",
        "publish-test": "cross-env \"echo $MARKETPLACE_TOKEN\" && cross-env \"echo $SHARED_ORGS\"",
        "release": "npm install && semantic-release",
        "release-dev": "semantic-release"
    },
    "dependencies": {
        "@semantic-release/changelog": "^3.0.4",
        "@semantic-release/exec": "^3.3.6",
        "@semantic-release/git": "^7.0.16",
        "copyfiles": "^2.1.1",
        "cross-env": "^5.2.1",
        "rimraf": "^3.0.0",
        "semantic-release": "^15.13.24",
        "tfx-cli": "^0.7.9"
    },
    "release": {
        "branch": "master",
        "plugins": [
            "@semantic-release/commit-analyzer",
            "@semantic-release/release-notes-generator",
            [
                "@semantic-release/exec",
                {
                    "prepareCmd": "node updateVersionNumbers.js ${nextRelease.version} && npm run package",
                    "publishCmd": "npm run publish-test && echo \"##vso[build.updatebuildnumber]${nextRelease.version}\" && echo \"##vso[build.addbuildtag]release\""
                }
            ],
            "@semantic-release/github"
        ]
    }
}
